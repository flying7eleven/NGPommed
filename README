README for pommed
-----------------

 - Kernel version requirements
 - Supported machines
 - Using pommed
 - Using gpomme and wmpomme


Kernel version requirements:
----------------------------

 - on the MacBook, MacBook Pro and MacBook Air
    + kernel >= 2.6.19 at least
    + kernel >= 2.6.20 recommended
   Newer machines may require a newer kernel and/or patches.

 - on the PowerBook and iBook
    + kernel >= 2.6.19 recommended
      Warning: kernels 2.6.20 and 2.6.20.x x < 7 are buggy; pommed will fail
               to detect the USB keyboards when run with one of these kernels.


Supported machines:
-------------------

 - Intel machines
   * MacBook Pro Core Duo 15" (January 2006)
   * MacBook Pro Core Duo 17" (April 2006)
   * MacBook Pro Core2 Duo 15" (October 2006 & June 2007)
   * MacBook Pro Core2 Duo 17" (October 2006 & June 2007)
   * MacBook Core Duo (May 2006)
   * MacBook Core2 Duo (November 2006 & May 2007)
   * MacBook Core2 Duo Santa Rosa (November 2007)
   * MacBook Air Core2 Duo (January 2008)


 - PowerMac machines
   * PowerBook G4 Titanium 15" (December 2000)
   * PowerBook G4 Titanium 15" (October 2001)
   * PowerBook G4 Titanium 15" (April 2002)
   * PowerBook G4 Titanium 15"
   * PowerBook G4 Aluminium 17"
   * PowerBook G4 Aluminium 15" (September 2003)
   * PowerBook G4 Aluminium 17" (September 2003)
   * PowerBook G4 Aluminium 15" (April 2004)
   * PowerBook G4 Aluminium 17" (April 2004)
   * PowerBook G4 Aluminium 15" (February 2005)
   * PowerBook G4 Aluminium 17" (February 2005)
   * PowerBook G4 Aluminium 15"
   * PowerBook G4 Aluminium 17"
   * PowerBook G4 12" (January 2003)
   * PowerBook G4 12" (September 2003)
   * iBook G4 (October 2003)
   * PowerBook G4 12" (April 2004)
   * iBook G4 (October 2004)
   * iBook G4
   * PowerBook G4 12"

   If your PowerBook/iBook is not listed here, please contact us and include
   the content of /proc/device-tree/model in your mail. Thanks.


Using pommed
------------

Launch pommed at startup, a simple init script will do.


Using gpomme and wmpomme
------------------------

 - gpomme: launch gpomme at session startup, using whatever interface your
   desktop environment provides for that.

 - wmpomme: run wmpomme and add it to your dock.

Both gpomme and wmpomme are responsible for running a user-provided helper
when the video switch button is pressed. This helper is responsible for
activating/deactivating the external video output.

The helper can be set system-wide and overriden on a per-user basis:
 - if $HOME/.videoswitch exists, is readable and executable by the running
   user, it is executed;
 - otherwise, if /etc/pommed/videoswitch exists, is readable and executable
   by the running user, it is executed.

The program is invoked without arguments, and argv[0] is "videoswitch".

The videoswitch helper can be anything you want: shell script, perl/python
script or a plain binary; anything executable. It is up to the script or
program to perform any housekeeping/statekeeping that is necessary.

If you want to run urandr or grandr, you can just symlink it as
/etc/pommed/videoswitch or $HOME/.videoswitch.

As different machines require different scripts, pommed can't ship a default
script (there's no one-size-fits-all, unfortunately). If you write a nice
script for your machine and would like to have it shipped with pommed as an
example, mail it to me with a proper license and the machine model.
